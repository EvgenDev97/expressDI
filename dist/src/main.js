import { App } from "./app";
import { ExceptionFilter } from "./errors/exception.filter";
import { LoggerService } from "./logger/logger.service";
import { UserController } from "./user/user.controller";
import * as dotenv from "dotenv";
import { Container } from "inversify";
import { TYPES } from "./types";
dotenv.config();
const appContainer = new Container();
appContainer.bind(TYPES.ILogger).to(LoggerService);
appContainer.bind(TYPES.ExceptionFilter).to(ExceptionFilter);
appContainer.bind(TYPES.UserController).to(UserController);
appContainer.bind(TYPES.Application).to(App);
const app = appContainer.get(TYPES.Application);
await app.init();
export { app, appContainer };
